<p-table
    #ladorianTable
    [columns]="columns()"
    currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
    [loading]="loading()"
    [paginator]="true"
    [rowHover]="true"
    [rows]="rows()"
    [showCurrentPageReport]="showCurrentPageReport()"
    [showGridlines]="showGridLines()"
    [showLoader]="false"
    [size]="size()"
    [value]="items()"
>
    <ng-template #header let-columns>
        <tr>
            @for (column of columns; track $index) {
                <th
                    class="capitalize text-sm"
                    [pSortableColumn]="column.sortable ? column.key : null"
                >
                    {{ column.name }}

                    @if (column.sortable) {
                        <p-sortIcon [field]="column.key" />
                    }
                </th>
            }
        </tr>
    </ng-template>

    <ng-template #body let-rowData let-columns="columns">
        <tr>
            @for (column of columns; track $index) {
                <td class="text-sm">
                    @switch (column.type) {
                        @case (typeDisplayColumnEnum().text) {
                            <div [innerHTML]="resolveNestedProperty(rowData, column.key) | safeHtml"></div>
                        }

                        @default {
                            {{ resolveNestedProperty(rowData, column.key) }}
                        }
                    }
                </td>
            }
        </tr>
    </ng-template>

    <ng-template #emptymessage>
        <tr>
            <td [attr.colspan]="columns().length">
                <div class="text-center">
                    There is no data found.
                </div>
            </td>
        </tr>
    </ng-template>

    <ng-template #loadingbody>
        <tr>
            <td [attr.colspan]="columns().length">
                <p-progressbar mode="indeterminate" [style]="{ height: '2px' }" />
            </td>
        </tr>
    </ng-template>
</p-table>
